<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥æ™‚è¨ˆç®—ç³»çµ±</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: -apple-system, sans-serif; background-color: #f0f2f5; padding: 15px; display: flex; justify-content: center; }
        .card { background: white; width: 100%; max-width: 400px; border-radius: 20px; padding: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: #1a73e8; margin-bottom: 25px; font-size: 24px; }
        .shift-container { display: flex; gap: 12px; margin-bottom: 25px; }
        .shift-option { flex: 1; border: 2px solid #e0e0e0; border-radius: 15px; padding: 12px; text-align: center; cursor: pointer; transition: 0.3s; }
        .shift-option.active { border-color: #00b900; background-color: #f0fff0; box-shadow: 0 4px 12px rgba(0,185,0,0.15); }
        .shift-option img { width: 45px; height: 45px; margin-bottom: 8px; }
        .input-group { margin-bottom: 18px; }
        label { display: block; margin-bottom: 6px; font-size: 15px; color: #5f6368; font-weight: bold; }
        .time-row { display: flex; gap: 10px; align-items: center; }
        input[type="time"] { flex: 1; padding: 12px; border: 1px solid #dadce0; border-radius: 10px; font-size: 18px; }
        .submit-btn { width: 100%; background-color: #00b900; color: white; border: none; padding: 18px; border-radius: 15px; font-size: 20px; font-weight: bold; cursor: pointer; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸ•’ å·¥æ™‚è¨ˆç®—ç³»çµ±</h2>
        
        <div class="shift-container">
            <div id="dayBtn" class="shift-option active" onclick="selectShift('D')">
                <img src="https://cdn-icons-png.flaticon.com/512/439/439842.png"><div class="shift-label">æ—¥ç­ â˜€ï¸</div>
            </div>
            <div id="nightBtn" class="shift-option" onclick="selectShift('N')">
                <img src="https://cdn-icons-png.flaticon.com/512/606/606807.png"><div class="shift-label">å¤œç­ ğŸŒ™</div>
            </div>
        </div>

        <div class="input-group">
            <label>1. ä¸Šç­æ™‚é–“</label>
            <input type="time" id="startTime" value="07:20">
        </div>

        <div class="input-group">
            <label>2. ç¬¬ä¸€æ¬¡ä¼‘æ¯ (èµ· â” æ­¢)</label>
            <div class="time-row">
                <input type="time" id="b1s" value="11:30">
                <span>â”</span>
                <input type="time" id="b1e" value="12:30">
            </div>
        </div>

        <div class="input-group">
            <label>3. ç¬¬äºŒæ¬¡ä¼‘æ¯ (èµ· â” æ­¢)</label>
            <div class="time-row">
                <input type="time" id="b2s" value="16:30">
                <span>â”</span>
                <input type="time" id="b2e" value="17:00">
            </div>
        </div>

        <div class="input-group">
            <label>4. ä¸‹ç­æ™‚é–“</label>
            <input type="time" id="endTime" value="19:20">
        </div>

        <button class="submit-btn" onclick="submitWorkData()">è¨ˆç®—æ·¨å·¥æ™‚</button>
    </div>

    <script>
        let currentShift = 'D';

        function selectShift(shift) {
            currentShift = shift;
            document.getElementById('dayBtn').classList.toggle('active', shift === 'D');
            document.getElementById('nightBtn').classList.toggle('active', shift === 'N');
            
            if (shift === 'D') {
                document.getElementById('startTime').value = "07:20";
                document.getElementById('b1s').value = "11:30";
                document.getElementById('b1e').value = "12:30";
                document.getElementById('b2s').value = "16:30";
                document.getElementById('b2e').value = "17:00";
                document.getElementById('endTime').value = "19:20";
            } else {
                document.getElementById('startTime').value = "19:20";
                document.getElementById('b1s').value = "23:30";
                document.getElementById('b1e').value = "00:30";
                document.getElementById('b2s').value = "04:30";
                document.getElementById('b2e').value = "05:00";
                document.getElementById('endTime').value = "07:20";
            }
        }

        async function initializeLiff() {
            try {
                await liff.init({ liffId: "2009119145-3CSat8WJ" });
                if (!liff.isLoggedIn()) { liff.login(); }
            } catch (error) { console.error('LIFF åˆå§‹åŒ–å¤±æ•—', error); }
        }
        initializeLiff();

        function submitWorkData() {
            // å‚³é€å­—ä¸²é †åºï¼šå·¥æ™‚,ç­åˆ¥,ä¸Šç­,ä¸‹ç­,ä¼‘1èµ·,ä¼‘1æ­¢,ä¼‘2èµ·,ä¼‘2æ­¢
            const msg = `å·¥æ™‚,${currentShift},${document.getElementById('startTime').value},${document.getElementById('endTime').value},${document.getElementById('b1s').value},${document.getElementById('b1e').value},${document.getElementById('b2s').value},${document.getElementById('b2e').value}`;
            liff.sendMessages([{ type: 'text', text: msg }]).then(() => liff.closeWindow());
        }
    </script>
</body>
</html>
